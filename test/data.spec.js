require('../src/data.js');

const database = {
  "MEX": {
    "indicators": [
      {
        "data": {
          "1960": "",
          "1961": "",
          "1962": "",
          "1963": "",
          "1964": "",
          "1965": "",
          "1966": "",
          "1967": "",
          "1968": "",
          "1969": "",
          "1970": "",
          "1971": "",
          "1972": "",
          "1973": "",
          "1974": "",
          "1975": "",
          "1976": "",
          "1977": "",
          "1978": "",
          "1979": "",
          "1980": "",
          "1981": "",
          "1982": "",
          "1983": "",
          "1984": "",
          "1985": "",
          "1986": "",
          "1987": "",
          "1988": "",
          "1989": "",
          "1990": "",
          "1991": "",
          "1992": "",
          "1993": "",
          "1994": "",
          "1995": "",
          "1996": "",
          "1997": "",
          "1998": "",
          "1999": "",
          "2000": "",
          "2001": "",
          "2002": "",
          "2003": "",
          "2004": "",
          "2005": "",
          "2006": "",
          "2007": "",
          "2008": "",
          "2009": "",
          "2010": "",
          "2011": "",
          "2012": "",
          "2013": "",
          "2014": "",
          "2015": "",
          "2016": "",
          "2017": ""
        },
        "countryName": "México",
        "countryCode": "MEX",
        "indicatorName": "Educacin terciaria, profesores (% de mujeres)",
        "indicatorCode": "SE.TER.TCHR.FE.ZS"
      }]
  }
};


/*const dataFilter = {
  "MEX": {
    "indicators": [
      {
        "data": {1960: "", 1961: "", 1962: "", 1963: "", 1964: "", 1965: "", 1966: "", 1967: "", 1968: "", 1969: "", 1970: "", 1971: 0.940060019493103, 1972: 0.910300016403198, 1973: "", 1974: 0.941980004310608, 1975: 0.926649987697601, 1976: 0.927869975566864, 1977: 0.958289980888367, 1978: 0.946680009365082, 1979: 0.973190009593964, 1980: 0.986440002918243, 1981: 0.977419972419739, 1982: 0.976310014724731, 1983: 0.960039973258972, 1984: 0.962130010128021, 1985: 0.972649991512299, 1986: 0.973439991474152, 1987: 0.97146999835968, 1988: 0.968739986419678, 1989: 0.968559980392456, 1990: 0.961399972438812, 1991: 0.96875, 1992: 0.969799995422363, 1993: 0.970939993858337, 1994: 0.967109978199005, 1995: 0.971340000629425, 1996: 0.971390008926392, 1997: 0.974449992179871, 1998: 0.978309988975525, 1999: 0.982140004634857, 2000: 0.98540997505188, 2001: 0.98650997877121, 2002: 0.98675000667572, 2003: 0.985859990119934, 2004: 0.985040009021759, 2005: 0.981620013713837, 2006: 0.97979998588562, 2007: 0.979659974575043, 2008: 0.98105001449585, 2009: 0.985059976577759, 2010: 0.991219997406006, 2011: 0.997300028800964, 2012: 1.00309002399445, 2013: 1.00528001785278, 2014: 1.00650000572205, 2015: 1.0064799785614, 2016: 1.00555002689362, 2017: ""},
        "countryName": "México",
        "countryCode": "MEX",
        "indicatorName": "Proporción de inscripciones de mujeres con respecto a varones en la educación primaria (%)",
        "indicatorCode": "SE.TER.TCHR.FE.ZS"
      }]
  }
}; */

const sort =[["2008", 50.6189002990723],
["2009", 50.5663681030273],
["2007", 50.551830291748],
["2006", 50.4536895751953],
["2010", 50.338451385498],
["2005", 50.2921981811523],
["2011", 50.1949615478516],
["2013", 50.1169013977051],
["2004", 50.1059494018555],
["2016", 50.0508804321289],
["2015", 50.0227088928223],
["2014", 50.0197296142578],
["2003", 50.0108489990234],
["2012", 49.9666786193848],
["2002", 49.8053703308105],
["2001", 49.5453109741211],
["2000", 49.1820983886719],
["1999", 48.9613418579102],
["1998", 48.6573181152344],
["1995", 48.5400314331055],
["1997", 48.4634208679199],
["1996", 48.3825492858887],
["1994", 48.3647689819336],
["1993", 48.3161315917969],
["1992", 48.1710510253906],
["1991", 47.8266716003418],
["1990", 47.4671897888184],
["1989", 47.1937103271484],
["1988", 46.9416885375977],
["1987", 46.6855201721191],
["1986", 46.271900177002],
["1984", 45.2611389160156],
["1985", 45.1374816894531],
["1983", 44.251781463623],
["1982", 44.1810684204102],
["1981", 43.3149795532227],
["1978", 41.7322807312012],
["1980", 41.399730682373],
["1979", 41.2662315368652],
["1977", 40.4406890869141],
["1971", 36.7083511352539],
["1974", 36.4845314025879],
["1975", 36.2572898864746],
["1976", 34.0612602233887],
["1960", ""],
["1961", ""],
["1962", ""],
["1963", ""],
["1964", ""],
["1965", ""],
["1966", ""],
["1967", ""],
["1968", ""],
["1969", ""],
["1970", ""],
["1972", ""],
["1973", ""],
["2017", ""]];

//Test para la función de filtrar por países
describe('WorldBank', () => {
  it('WorldBank is an object', () => {
    expect(typeof window.WorldBank).toBe('object');
  });

  it('WorldBank.dataCountries is a function', () => {
    expect(typeof window.WorldBank.dataCountries).toBe('function');
  })

  it('Debe retornar un array de objetos', () => {
    expect(window.WorldBank.dataCountries(database, 'MEX')).toEqual(database.MEX.indicators);
  })
});

//Test para la función de filtrar por indicador "educación"
/*it('PercentAndYear is a function', () => {
  expect(typeof window.WorldBank.percentAndYear).toBe('function');
})
it('Debe retornar un objeto', () => {
  expect(window.WorldBank.percentAndYear(dataFilter, 'Proporción de inscripciones de mujeres con respecto a varones en la educación primaria (%)')).toEqual(dataFilter.MEX.indicators[0].data)
});*/

//Test para funciónde ordenar
it('SortPercentAndYear is a function', () => {
  expect(typeof window.WorldBank.sortPercentAndYear).toBe('function');
});
it('Debe ordenar el objeto', () => {
  expect(window.WorldBank.sortPercentAndYear(sort, 'falling' )).toEqual([["2008", 50.6189002990723],
  ["2009", 50.5663681030273],
  ["2007", 50.551830291748],
  ["2006", 50.4536895751953],
  ["2010", 50.338451385498],
  ["2005", 50.2921981811523],
  ["2011", 50.1949615478516],
  ["2013", 50.1169013977051],
  ["2004", 50.1059494018555],
  ["2016", 50.0508804321289],
  ["2015", 50.0227088928223],
  ["2014", 50.0197296142578],
  ["2003", 50.0108489990234],
  ["2012", 49.9666786193848],
  ["2002", 49.8053703308105],
  ["2001", 49.5453109741211],
  ["2000", 49.1820983886719],
  ["1999", 48.9613418579102],
  ["1998", 48.6573181152344],
  ["1995", 48.5400314331055],
  ["1997", 48.4634208679199],
  ["1996", 48.3825492858887],
  ["1994", 48.3647689819336],
  ["1993", 48.3161315917969],
  ["1992", 48.1710510253906],
  ["1991", 47.8266716003418],
  ["1990", 47.4671897888184],
  ["1989", 47.1937103271484],
  ["1988", 46.9416885375977],
  ["1987", 46.6855201721191],
  ["1986", 46.271900177002],
  ["1984", 45.2611389160156],
  ["1985", 45.1374816894531],
  ["1983", 44.251781463623],
  ["1982", 44.1810684204102],
  ["1981", 43.3149795532227],
  ["1978", 41.7322807312012],
  ["1980", 41.399730682373],
  ["1979", 41.2662315368652],
  ["1977", 40.4406890869141],
  ["1971", 36.7083511352539],
  ["1974", 36.4845314025879],
  ["1975", 36.2572898864746],
  ["1976", 34.0612602233887],
  ["1960", ""],
  ["1961", ""],
  ["1962", ""],
  ["1963", ""],
  ["1964", ""],
  ["1965", ""],
  ["1966", ""],
  ["1967", ""],
  ["1968", ""],
  ["1969", ""],
  ["1970", ""],
  ["1972", ""],
  ["1973", ""],
  ["2017", ""]])
});










